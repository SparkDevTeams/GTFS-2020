{"version":3,"sources":["Components/MainPage/styles.js","Components/MainPage/ListCard/styles.js","Components/Commons/Card/Card.js","Components/MainPage/RouteCard/styles.js","Components/MainPage/RouteCard/index.js","Components/MainPage/ListCard/index.js","Services/API.js","Static/values.js","Components/Location/styles.js","Components/Location/Location.js","Components/MainPage/Map/index.js","Components/MainPage/TrainsPanel/styles.js","Components/MainPage/TrainsPanel/TrainsPanel.js","Components/MainPage/TrirailPanel/styles.js","Components/MainPage/TrirailPanel/TrirailPanel.js","Components/MainPage/MainPage.js","App.js","Components/SignupPage/styles.js","Components/Commons/Modal/styles.js","Components/Commons/Modal/Modal.js","Components/SignupPage/SignUp.js","serviceWorker.js","Components/navbar/Menu.js","Components/navbar/CollapseMenu.js","Components/navbar/Navbar.js","Components/Styles/Global.js","Components/UserProfile/styles.js","Components/UserProfile/UserProfile.js","Components/LoginPage/styles.js","Components/LoginPage/LoginPage.js","index.js"],"names":["MainContainer","styled","div","MapContainer","ListContainer","PageTitle","p","TextField","input","Title","h1","Container","Card","width","height","minHeight","margin","padding","lg","md","sm","xs","cursor","hover","selfCenter","direction","CardListContainer","RouteCard","props","useState","routes","setRoutes","useEffect","Routes","Object","entries","length","handleRouteClick","item","a","callBack","RouteId","map","route","i","key","onClick","Name1","ListCard","title","as","value","currentToken","onChange","e","setCurrentToken","currentTarget","tokens","token","idx","routeID","passRouteId","axios","require","URL","API","getRoutes","get","response","data","getTokens","getShapeByRoute","routeId","getStopsByRoute","registerUser","username","password","email","post","user","pwd","address","status","message","getStations","getTrainSchedule","arrival","departure","date","getAllTrirail","getTrirailShape","id","LoginUser","base64encoded","btoa","headers","Authorization","Error","error","getUserInfo","updateUserInfo","patch","transMethods","LocationButton","StyledLocationIcon","svg","Location","handleGeoLocationSuccess","positions","coords","latitude","longitude","accuracy","setCurrentLocation","position","handleGeoLocationError","err","console","log","navigator","geolocation","getCurrentPosition","TiLocationArrow","MapComponent","shape","setShape","trirailShape","setTrirailShape","undefined","currentLocation","showPolyline","setShowPolyline","mapRef","useRef","RoutePath","current","leafletElement","fitBounds","Array","isArray","panTo","center","zoom","ref","TileLayer","attribution","url","Marker","Circle","radius","Polyline","color","LineColor","Popup","Names","stops","mark","CircleMarker","Shape","StopName","from","Set","Street","split","join","Form","form","FormContainer","wrap","TextLabel","label","InputButton","Text","TrainsPanel","stations","setStations","today","moment","format","departureTime","setDepartureTime","setArrival","setDeparture","trainSchedule","setTrainSchedule","handleSearch","preventDefault","arrivalStation","departureStation","departureTimeFormat","subtract","onSubmit","type","station","train","origin","destination","scheduledDeparture","TrirailPanel","trirails","setTrirails","getTrirails","handleTrirailClick","trirail","name","MainPage","setRouteId","setTokens","setPoints","currentTransMethod","setCurrentTransMethod","getDataPerRoute","useCallback","getBusData","apiTokens","values","apiRoutes","points","fetchRoutes","method","App","ErrorMessage","ModalBackground","show","CardTitle","ModalText","pre","Modal","className","buttonText","onClose","SignUp","history","useHistory","setShow","modalText","setmodalText","modalTitle","setmodalTitle","success","setSuccess","setButtonText","setUser","useForm","register","handleSubmit","errors","watch","formState","clearError","handleModalButton","push","validate","required","pattern","minLength","maxLength","disabled","isSubmitting","Boolean","window","location","hostname","match","Burgermenu","Wrapper","handleNavbar","navbarState","CollapseMenu","open","useSpring","CollapseWrapper","style","transform","interpolate","range","output","openValue","NavLinks","to","animated","ul","Navbar","barAnimation","linkAnimation","opacity","delay","config","wobbly","NavBar","FlexContainer","BurgerWrapper","Menu","nav","GlobalStyles","createGlobalStyle","PageContainer","ProfileContainer","SideContainer","isLoggedIn","ProfileImage","img","Row","hr","Column","About","textarea","ProfileDescription","UserProfile","profilePicture","useParams","setIsLoggedIn","fileRef","profilePictureData","JSON","parse","localStorage","getItem","getProfile","submitProfile","file","files","blob","Blob","atob","encoding","lastModifiedDate","Date","profile","FormData","append","about","class","placeholder","accept","defaultValue","maxlength","aboutMe","src","Login","setError","setItem","stringify","ReactDOM","render","navbarOpen","setNavbarOpen","basename","prevState","Global","paddingTop","path","component","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"ihCAEO,IAAMA,EAAgBC,IAAOC,IAAV,KAKbC,EAAeF,IAAOC,IAAV,KAIZE,EAAgBH,IAAOC,IAAV,KAMbG,EAAYJ,IAAOK,EAAV,KASTC,EAAYN,IAAOO,MAAV,K,4eCxBf,IAAMC,EAAQR,IAAOS,GAAV,KAMLC,EAAYV,IAAOC,IAAV,KAOTK,EAAYN,IAAOO,MAAV,KCyBPI,EAtCFX,IAAOC,KAAI,oBAAEW,aAAF,MAAU,OAAV,MAAkBC,cAAlB,MAA2B,OAA3B,MAAmCC,iBAAnC,MAA+CD,EAA/C,MAAuDE,cAAvD,MAAgE,MAAhE,MAAsEC,eAAtE,MAAgF,MAAhF,MAAuFC,UAAvF,MAA4FL,EAA5F,MAAmGM,UAAnG,MAAwGD,EAAxG,MAA4GE,UAA5G,MAAiHD,EAAjH,MAAqHE,UAArH,MAA0HD,EAA1H,EAA8HE,EAA9H,EAA8HA,OAAQC,EAAtI,EAAsIA,MAAOC,EAA7I,EAA6IA,WAA7I,IAAyJC,UAAzJ,iEAAqK,MAArK,6CAIbZ,EAJa,wBAKZC,EALY,4BAMRC,EANQ,wBAOZC,EAPY,yBAQXC,EARW,iKAcpBO,GAAc,qBAdM,uEAgBXN,EAhBW,6EAoBXC,EApBW,6EAwBXC,EAxBW,6EA4BXC,EA5BW,6CAgCVC,EAhCU,kBAiClBC,GAAS,4CAjCS,c,wGCAjB,IAAMG,EAAoBzB,IAAOC,IAAV,K,QCoCfyB,EAhCG,SAACC,GAAW,IAAD,EACCC,mBAAS,IADV,mBACpBC,EADoB,KACZC,EADY,KAG3BC,qBAAU,WACJJ,EAAMK,OAAOH,SACoC,IAA/CI,OAAOC,QAAQP,EAAMK,OAAOH,QAAQM,OACtCL,EAAUH,EAAMK,OAAOH,QAGvBC,EAAU,OAGb,CAACH,EAAMK,SAEV,IAAMI,EAAgB,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sDACvBX,EAAMY,SAASF,EAAKG,SADG,2CAAH,sDAItB,OACE,kBAACf,EAAD,KAEII,EAAOY,KAAI,SAACC,EAAOC,GAAR,OACT,kBAAC,EAAD,CAAM/B,MAAM,MAAMC,OAAO,MAAME,OAAO,OAAOM,OAAO,UAAUC,OAAK,EAACC,YAAU,EAACqB,IAAKF,EAAMF,QACxFK,QAAS,kBAAMT,EAAiBM,KAChC,kBAAC,IAAD,MAFF,IAEeA,EAAMI,YCFhBC,EAxBE,SAACpB,GAKhB,OACE,kBAACjB,EAAD,KAEE,kBAACF,EAAD,KAAQmB,EAAMqB,OACd,kBAAC,EAAD,CAAWC,GAAG,SACZC,MAAOvB,EAAMwB,aACbC,SAAU,SAACC,GAAD,OAAO1B,EAAM2B,gBAAgBD,EAAEE,cAAcL,SAEtDjB,OAAOC,QAAQP,EAAM6B,QAAQf,KAAI,SAACgB,EAAOC,GAAR,OAChC,4BAAQd,IAAKc,EAAKR,MAAOO,EAAM,IAC5BA,EAAM,QAIX,kBAAC,EAAD,CAAWzB,OAAQL,EAAME,OAAQU,SAlBvC,SAAoBoB,GAClBhC,EAAMiC,YAAYD,QCNhBE,EAAQC,EAAQ,IAChBC,EAAM,iCA6GGC,EA3GH,CACVC,UAAU,WAAD,4BAAE,WAAgBR,GAAhB,eAAAnB,EAAA,sEACYuB,EAAMK,IAAN,UAAaH,EAAb,gCAAwCN,IADpD,cACLU,EADK,yBAEFA,EAASC,MAFP,2CAAF,mDAAC,GAIVC,UAAU,WAAD,4BAAE,4BAAA/B,EAAA,sEACYuB,EAAMK,IAAN,UAAaH,EAAb,YADZ,cACLI,EADK,yBAEFA,EAASC,MAFP,2CAAF,kDAAC,GAIVE,gBAAgB,WAAD,4BAAE,WAAgBb,EAAOc,GAAvB,eAAAjC,EAAA,sEACMuB,EAAMK,IAAN,UAChBH,EADgB,8BACSN,EADT,eACqBc,IAF3B,cACXJ,EADW,yBAIRA,EAASC,MAJD,2CAAF,qDAAC,GAMhBI,gBAAgB,WAAD,4BAAE,WAAgBD,GAAhB,eAAAjC,EAAA,sEACMuB,EAAMK,IAAN,UAAaH,EAAb,0BAAkCQ,IADxC,cACXJ,EADW,yBAERA,EAASC,MAFD,2CAAF,mDAAC,GAIhBK,aAAa,WAAD,4BAAE,WAAgBC,EAAUC,EAAUC,GAApC,iBAAAtC,EAAA,+EAEWuB,EAAMgB,KAAN,UAAcd,EAAd,aAA8B,CACjDe,KAAMJ,EACNK,IAAKJ,EACLC,QACAI,QAAS,KAND,cAENb,EAFM,yBAQHA,EAASC,MARN,mCAWK,OADPa,EAAW,KAAEd,SAAbc,QAVE,0CAYD,CAAEC,QAAS,2BAZV,WAcK,MAAXD,EAdM,0CAeD,CAAEC,QAAS,6CAfV,iCAiBH,CAAEA,QAAS,6CAjBR,yDAAF,uDAAC,GAoBbC,YAAY,WAAD,4BAAE,4BAAA7C,EAAA,+EAEYuB,EAAMK,IAAN,UAAaH,EAAb,cAFZ,cAELI,EAFK,yBAGFA,EAASC,MAHP,yDAKF,CAAEc,QAAS,4CALT,yDAAF,kDAAC,GAQZE,iBAAiB,WAAD,4BAAE,WAAgBC,EAASC,EAAWC,GAApC,eAAAjD,EAAA,+EAEOuB,EAAMK,IAAN,UAChBH,EADgB,gCACWsB,EADX,sBACgCC,EADhC,0BAC2DC,IAHlE,cAEVpB,EAFU,yBAKPA,EAASC,MALF,yDAOP,CAAEc,QAAS,6CAPJ,yDAAF,uDAAC,GAUjBM,cAAc,WAAD,4BAAE,4BAAAlD,EAAA,+EAEUuB,EAAMK,IAAN,UAAaH,EAAb,sBAFV,cAEPI,EAFO,yBAGJA,EAASC,MAHL,yDAKJ,CAAEc,QAAS,4CALP,yDAAF,kDAAC,GAQdO,gBAAgB,WAAD,4BAAE,WAAgBC,GAAhB,eAAApD,EAAA,+EAEQuB,EAAMK,IAAN,UAAaH,EAAb,6BAAqC2B,IAF7C,cAETvB,EAFS,yBAGNA,EAASC,MAHH,yDAKN,CAAEc,QAAS,kDALL,yDAAF,mDAAC,GAQhBS,UAAU,WAAD,4BAAE,WAAgBjB,EAAUC,GAA1B,mBAAArC,EAAA,sEAEHsD,EAAgBC,KAAK,GAAD,OAAInB,EAAJ,YAAgBC,IAFjC,SAGcd,EAAMK,IAAN,UAAaH,EAAb,UAA0B,CAAC+B,QAAS,CAACC,cAAc,SAAD,OAAWH,MAH3E,cAGHzB,EAHG,yBAIAA,EAASC,MAJT,iFAMC,KAAGD,gBANJ,aAMC,EAAac,OANd,OAOA,MAPA,QASA,MATA,kDAQI,CAAEC,QAAS,KAAEf,SAASC,KAAK4B,QAR/B,iCAUI,CAAEd,QAAS,KAAEf,SAASC,KAAK6B,QAV/B,iCAYI,CAAEf,QAAS,gCAZf,yDAAF,qDAAC,GAgBVgB,YAAY,WAAD,4BAAE,WAAgBxB,GAAhB,eAAApC,EAAA,+EAEYuB,EAAMK,IAAN,UAAaH,EAAb,yBAAiCW,IAF7C,cAELP,EAFK,yBAGFA,EAASC,MAHP,yDAKF,CAAEc,QAAS,gDALT,yDAAF,mDAAC,GAQZiB,eAAe,WAAD,4BAAE,WAAgB/B,GAAhB,eAAA9B,EAAA,+EAESuB,EAAMuC,MAAN,UAAerC,EAAf,WAA6BK,EAAM,CAAC0B,QAAU,CAAC,eAAgB,yBAFxE,cAER3B,EAFQ,yBAGLA,GAHK,yDAKL,CAAEe,QAAS,6CALN,yDAAF,mDAAC,I,wDCnGFmB,EAAe,CAAC,SAAU,UAAW,O,scCC7C,IAAMC,EAAiBtG,IAAOC,IAAV,KAkBdsG,EAAqBvG,IAAOwG,IAAV,KCOhBC,GAvBE,SAAC9E,GAChB,IAQM+E,EAA2B,SAACC,GAAe,IAAD,EACNA,EAAUC,OAA3CC,EADuC,EACvCA,SAAUC,EAD6B,EAC7BA,UAAWC,EADkB,EAClBA,SAC5BpF,EAAMqF,mBAAmB,CAACC,SAAU,CAACJ,EAAUC,GAAYC,SAAUA,KAGjEG,EAAyB,SAACC,GAC9BC,QAAQC,IAAIF,IAGd,OACE,kBAACb,EAAD,CAAgBzD,QAlBQ,WACnByE,UAAUC,YAGbD,UAAUC,YAAYC,mBAAmBd,EAA0BQ,GAFnEE,QAAQC,IAAI,oBAgB8B,kBAACd,EAAD,CAAoBtD,GAAIwE,QCkDzDC,GA3DM,SAAC/F,GAAW,IAAD,IACJC,mBAAS,IADL,mBACvB+F,EADuB,KAChBC,EADgB,OAEUhG,mBAAS,IAFnB,mBAEvBiG,EAFuB,KAETC,EAFS,OAGgBlG,wBAASmG,GAHzB,mBAGvBC,EAHuB,KAGNhB,EAHM,OAIUpF,mBAAS,IAJnB,mBAIvBqG,EAJuB,KAITC,EAJS,KAKxBC,EAASC,mBAuBf,OArBArG,qBAAU,WAAO,IAAD,IACsB,GAApC,UAAIJ,EAAMgG,aAAV,uBAAI,EAAaU,iBAAjB,aAAI,EAAwBlG,UAC1B+F,EAAgB,SAChBN,EAASjG,EAAMgG,OACfP,QAAQC,IAAI1F,EAAMgG,OAClBQ,EAAOG,QAAQC,eAAeC,UAA9B,UAAwC7G,EAAMgG,aAA9C,aAAwC,EAAaU,YAGpDI,MAAMC,QAAQ/G,EAAMgG,SACrBO,EAAgB,WAChBJ,EAAgBnG,EAAMgG,OACtBQ,EAAOG,QAAQC,eAAeC,UAAU7G,EAAMgG,UAE/C,CAAChG,EAAMgG,QAEV5F,qBAAU,YACR,OAAGiG,QAAH,IAAGA,OAAH,EAAGA,EAAiBf,WAClBkB,EAAOG,QAAQC,eAAeI,MAAMX,EAAgBf,YAErD,CAACe,IAGF,kBAAC,IAAD,CAAYY,OAAQ,CAAC,SAAU,SAAUC,KAAM,GAAIC,IAAKX,GACtD,kBAACY,EAAA,EAAD,CACEC,YAAY,yEACZC,IAAI,6CAEN,kBAAC,GAAD,CAAUjC,mBAAoBA,KACd,OAAfgB,QAAe,IAAfA,OAAA,EAAAA,EAAiBf,WAChB,oCACE,kBAACiC,EAAA,EAAD,CAAQjC,SAAUe,EAAgBf,WAClC,kBAACkC,EAAA,EAAD,CACEP,OAAQZ,EAAgBf,SACxBmC,OAAQpB,EAAgBjB,YAIZ,UAAjBkB,GAA6B,oCAAE,kBAACoB,EAAA,EAAD,CAAU1C,WAAgB,OAALgB,QAAK,IAALA,OAAA,EAAAA,EAAOU,YAAa,GAAIiB,MAAK,OAAE3B,QAAF,IAAEA,OAAF,EAAEA,EAAO4B,WACzF,kBAACC,EAAA,EAAD,KAAQ7B,EAAMU,WAAa,6BAAMV,EAAM8B,SADX,OAG7B9B,QAH6B,IAG7BA,OAH6B,YAG7BA,EAAO+B,aAHsB,aAG7B,EAAcjH,KAAI,SAACkH,GAAD,OAAU,kBAACC,EAAA,EAAD,CAAcR,OAAQ,EAAGR,OAAQe,EAAKE,OAAO,kBAACL,EAAA,EAAD,KACtE,6BACGG,EAAKG,SADR,KACoBrB,MAAMsB,KAAK,IAAIC,IAAIL,EAAKM,OAAOC,MAAM,OAAOC,KAAK,YAKvD,YAAjBlC,GAA8BJ,GAAgB,kBAACwB,EAAA,EAAD,CAAU1C,UAAWkB,M,87CClEnE,IAAMvH,GAAYN,IAAOO,MAAV,MAQT6J,GAAOpK,IAAOqK,KAAV,MAOJC,GAAgBtK,IAAOC,IAAV,MAEtB,qBAAEsK,KAAiB,kBAAoB,QAO9BC,GAAYxK,IAAOyK,MAAV,MAUTC,GAAc1K,IAAOO,MAAV,MAqBXoK,IAVY3K,IAAOK,EAAV,MAUFL,IAAOK,EAAV,O,oBCqBFuK,GAvEK,WAAO,IAAD,EACQhJ,mBAAS,IADjB,mBACjBiJ,EADiB,KACPC,EADO,KAElBC,EAAQC,OAASC,OAAO,oBAFN,EAGkBrJ,mBAASmJ,GAH3B,mBAGjBG,EAHiB,KAGFC,EAHE,OAIMvJ,wBAASmG,GAJf,mBAIjB1C,EAJiB,KAIR+F,EAJQ,OAKUxJ,wBAASmG,GALnB,mBAKjBzC,EALiB,KAKN+F,EALM,OAMkBzJ,mBAAS,IAN3B,mBAMjB0J,EANiB,KAMFC,EANE,KAQxBxJ,qBAAU,WAAM,4CACd,4BAAAO,EAAA,sEACuB0B,EAAImB,cAD3B,OACMhB,EADN,OAEE2G,EAAY3G,GAFd,4CADc,uBAAC,WAAD,wBAMdgB,KACC,IAEH,IAAMqG,EAAY,uCAAG,WAAOnI,GAAP,qBAAAf,EAAA,6DACnBe,EAAEoI,iBACEC,EAAiBrG,GAAoB,GACrCsG,EAAmBrG,GAAwB,GAC3CsG,EAAsBZ,KAAOE,GAAeW,SAAS,EAAG,SAASZ,OAAO,cAJzD,SAKEjH,EAAIoB,iBAAiBsG,EAAgBC,EAAkBC,GALzD,OAKfzH,EALe,OAMhBsE,MAAMC,QAAQvE,IACfoH,EAAiBpH,GAPA,2CAAH,sDAWlB,OACE,oCACA,kBAACmG,GAAD,KACE,kBAAC,EAAD,KACE,kBAACF,GAAD,CAAM0B,SAAUN,GACd,kBAAChB,GAAD,uBACA,kBAAC,GAAD,CAAWuB,KAAK,iBAAiB7I,MAAOgI,EAAe9H,SAAU,SAAAC,GAAC,OAAI8H,EAAiB9H,EAAEE,cAAcL,UACvG,kBAACsH,GAAD,kBACA,kBAAC,GAAD,CAAWvH,GAAG,SAASC,MAAOoC,EAAWlC,SAAU,SAAAC,GAAC,OAAIgI,EAAahI,EAAEE,cAAcL,SACrF,4BAAQA,WAAO6E,IACZ9F,OAAOC,QAAQ2I,GAAUpI,KAAI,SAACuJ,EAAStI,GAAV,OAC5B,4BAAQd,IAAKc,EAAKR,MAAO8I,EAAQ,IAC9BA,EAAQ,QAIf,kBAACxB,GAAD,gBACA,kBAAC,GAAD,CAAWvH,GAAG,SAASC,MAAOmC,EAASjC,SAAU,SAAAC,GAAC,OAAI+H,EAAW/H,EAAEE,cAAcL,SAC/E,4BAAQA,WAAO6E,IACd9F,OAAOC,QAAQ2I,GAAUpI,KAAI,SAACuJ,EAAStI,GAAV,OAC5B,4BAAQd,IAAKc,EAAKR,MAAO8I,EAAQ,IAC9BA,EAAQ,QAIf,kBAACtB,GAAD,CAAaqB,KAAK,SAAS7I,MAAM,cAKvC,kBAACoH,GAAD,CAAeC,MAAI,GAChBe,EAAc7I,KAAI,SAACwJ,EAAOvI,GAAR,OACjB,kBAAC,EAAD,CAAMd,IAAKc,EAAK9C,MAAM,MAAMC,OAAO,MAAME,OAAO,OAAOM,OAAO,UAAUC,OAAK,EAACC,YAAU,GACtF,kBAACoJ,GAAD,KAAOsB,EAAMC,OAAb,IAAqB,kBAAC,IAAD,MAArB,IAAoCD,EAAME,aAC1C,kBAACxB,GAAD,eAAcsB,EAAMA,OACpB,kBAACtB,GAAD,mBAAkBK,KAAOiB,EAAMG,oBAAoBnB,OAAO,2B,oZCpE7D,IAAMzK,GAAQR,IAAOS,GAAV,MAMLC,GAAYV,IAAOC,IAAV,MAOTwB,GAAoBzB,IAAOC,IAAV,MC6BfoM,GAtCM,SAAC1K,GAAW,IAAD,EACEC,mBAAS,IADX,mBACvB0K,EADuB,KACbC,EADa,KAG9BxK,qBAAU,WAAM,4CACd,4BAAAO,EAAA,sEACuB0B,EAAIwB,gBAD3B,OACMrB,EADN,OAEEoI,EAAYpI,GAFd,4CADc,uBAAC,WAAD,wBAKdqI,KACC,IAEH,IAAMC,EAAkB,uCAAG,WAAO/G,GAAP,eAAApD,EAAA,sEACP0B,EAAIyB,gBAAgBC,GADb,OACrBiC,EADqB,OAEzBhG,EAAMiG,SAASD,GAFU,2CAAH,sDAIxB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,iBACA,kBAAC,GAAD,KACG2E,EAAS7J,KAAI,SAACiK,EAAShJ,GAAV,OACZ,kBAAC,EAAD,CACE9C,MAAM,MACNC,OAAO,MACPE,OAAO,OACPM,OAAO,UACPC,OAAK,EACLC,YAAU,EACVqB,IAAK8J,EAAQhH,GACb7C,QAAS,kBAAM4J,EAAmBC,EAAQhH,MAE1C,kBAAC,IAAD,MAAcgH,EAAQC,YCoEnBC,GAzFE,WAAO,IAAD,EACShL,mBAAS,IADlB,mBACd2C,EADc,KACLsI,EADK,OAEOjL,mBAAS,IAFhB,mBAEdC,EAFc,KAENC,EAFM,OAGKF,mBAAS,IAHd,mBAGd+F,EAHc,KAGPC,EAHO,OAIOhG,mBAAS,IAJhB,mBAId4B,EAJc,KAINsJ,EAJM,OAKmBlL,mBAAS,IAL5B,mBAKduB,EALc,KAKAG,EALA,OAMO1B,mBAAS,IANhB,mBAMNmL,GANM,aAO+BnL,wBAASmG,GAPxC,mBAOdiF,EAPc,KAOMC,EAPN,KASfC,EAAkBC,sBAAW,uCACjC,WAAO5I,GAAP,iBAAAjC,EAAA,0DACMiC,EADN,gCAEsBP,EAAIM,gBAAgBnB,EAAcoB,GAFxD,cAEQoD,EAFR,gBAGsB3D,EAAIQ,gBAAgBD,GAH1C,OAGQmF,EAHR,OAII9B,EAAS,eAAKD,EAAN,CAAa+B,WAJzB,2CADiC,sDAQjC,CAACvG,IAGGiK,EAAaD,sBAAW,sBAAC,4BAAA7K,EAAA,sEACP0B,EAAIK,YADG,OACzBgJ,EADyB,OAE7BP,EAAUO,GACV/J,EAAgBrB,OAAOqL,OAAOD,GAAW,IAHZ,2CAI5B,IA0BH,OAxBAtL,qBAAU,WACLiL,IAAuB3G,EAAa,IACrC+G,MAED,CAACJ,EAAoBI,IAMxBrL,qBAAU,WAAM,4CACd,4BAAAO,EAAA,sEACwB0B,EAAIC,UAAUd,GADtC,OACMoK,EADN,OAEEzL,EAAUyL,GACVR,EAAUQ,EAAUC,QAHtB,4CADc,uBAAC,WAAD,wBAOdC,KACC,CAACtK,IAEJpB,qBAAU,WACRmL,EAAgB3I,KACf,CAACA,EAAS2I,IAIX,kBAACnN,EAAD,KACE,kBAACG,EAAD,KACE,kBAAC,GAAD,CAAcyH,MAAOA,EAAOqF,mBAAoBA,KAIlD,kBAAC7M,EAAD,KACE,kBAACC,EAAD,yCACA,kBAACE,EAAD,CAAW2C,GAAG,SACZC,MAAO8J,EACP5J,SAAU,SAACC,GAAD,OAAO4J,EAAsB5J,EAAEE,cAAcL,SAEvD,iCACCmD,EAAa5D,KAAI,SAACiL,EAAQhK,GAAT,OAChB,4BAAQR,MAAOwK,EAAQ9K,IAAKc,GACzBgK,OAINV,IAAuB3G,EAAa,IAAM,kBAAC,GAAD,MAC1C2G,IAAuB3G,EAAa,IAAM,kBAAC,GAAD,CAAcuB,SAAUA,IAClEoF,IAAuB3G,EAAa,IACnC,kBAAC,EAAD,CACErD,MAAO,SACPnB,OAAQA,EACR+B,YAAaiJ,EACbvJ,gBAAiBA,EACjBE,OAAQA,OCnFLmK,GAPH,WAER,OACI,kBAAC,GAAD,O,m6CCLD,IAAMrN,GAAYN,IAAOO,MAAV,MAMV,kBAAqB,SAArB,EAAEwL,KAA4B,OAAS,UAGtC3B,GAAOpK,IAAOqK,KAAV,MAOJC,GAAgBtK,IAAOC,IAAV,MAObuK,GAAYxK,IAAOyK,MAAV,MAUTC,GAAc1K,IAAOO,MAAV,MAWXH,GAAYJ,IAAOK,EAAV,MAUTuN,GAAe5N,IAAOK,EAAV,M,i1BCtDlB,IAAMwN,GAAkB7N,IAAOC,IAAV,MAQf,qBAAE6N,KAAiB,OAAS,UAK5BC,GAAY/N,IAAOS,GAAV,MAcTuN,IAPkBhO,IAAOiO,IAAV,MAOHjO,IAAOK,EAAV,OCAP6N,GAxBD,SAACvM,GAKb,OACE,kBAACkM,GAAD,CAAiBC,KAAMnM,EAAMmM,MAC3B,kBAAC,EAAD,CAAM7G,SAAS,WAAWrG,MAAM,QAAQC,OAAO,QAAQW,UAAU,UAE/D,kBAACuM,GAAD,KAAYpM,EAAMqB,OAClB,kBAACgL,GAAD,CAAWG,UAAU,WAAWxM,EAAMuD,SACtC,yBAAKiJ,UAAU,WACb,kBAAC,GAAD,CACEA,UAAU,gBACVpC,KAAK,SACL7I,OAAY,OAALvB,QAAK,IAALA,OAAA,EAAAA,EAAOyM,aAAc,QAC5BvL,QAfM,SAACQ,GAAO,IAAD,EACrB,iBAAO1B,EAAM0M,eAAb,aAAO,OAAA1M,EAAgB0B,UCSZ,SAASiL,KAAU,IAAD,YAC3BC,EAAUC,cADiB,EAEP5M,oBAAS,GAFF,mBAExBkM,EAFwB,KAElBW,EAFkB,OAGG7M,mBAAS,IAHZ,mBAGxB8M,EAHwB,KAGbC,EAHa,OAIK/M,mBAAS,IAJd,mBAIxBgN,EAJwB,KAIZC,EAJY,OAKDjN,oBAAS,GALR,mBAKxBkN,EALwB,KAKfC,EALe,OAMKnN,mBAAS,SANd,mBAMxBwM,EANwB,KAMZY,EANY,OAOPpN,mBAAS,IAPF,mBAOxBkD,EAPwB,KAOlBmK,EAPkB,OAe3BC,eANFC,EAT6B,EAS7BA,SACAC,EAV6B,EAU7BA,aAEAC,GAZ6B,EAW7BC,MAX6B,EAY7BD,QAEAE,GAd6B,EAa7BC,WAb6B,EAc7BD,WAQIE,EAAoBtC,uBAAY,WACpCsB,GAAQ,GACLK,GACDP,EAAQmB,KAAR,mBAAyB5K,MAE1B,CAACgK,EAASP,EAASzJ,IAEhB6K,EAAQ,uCAAG,mCAAArN,EAAA,6DAASwC,EAAT,EAASA,KAAMC,EAAf,EAAeA,IAAKH,EAApB,EAAoBA,MAApB,SACMZ,EAAIS,aAAaK,EAAMC,EAAKH,GADlC,QACXT,EADW,QAIFe,SACXyJ,EAAa,kEAAD,OACwDxK,EAASe,QADjE,WAGZ2J,EAAc,iBACdE,GAAW,KAEXE,EAAQnK,GACR6J,EACE,kCAEFK,EAAc,iBACdD,GAAW,IAEbN,GAAQ,GAlBO,2CAAH,sDAqBd,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEJ,QAASoB,EACTzM,MAAO4L,EACPd,KAAMA,EACN5I,QAASwJ,EACTN,WAAYA,IAEd,kBAAC,EAAD,CAAMxN,MAAM,MAAMQ,GAAG,OACnB,kBAAC,GAAD,CAAM+M,UAAU,cAAcrC,SAAUsD,GA3C7B,SAAChL,GAChBuL,EAASvL,OA2CH,kBAAC,GAAD,gBACA,kBAAC,GAAD,CAAW+J,UAAU,gBAArB,SACA,kBAAC,GAAD,CACEA,UAAU,eACVxB,KAAK,QACL7D,IAAKqG,EAAS,CACZS,SAAU,CAAE1M,OAAO,EAAMgC,QAAS,qBAClC2K,QAAS,CACP3M,MAAO,uEACPgC,QAAS,mCAIR,OAANmK,QAAM,IAANA,OAAA,YAAAA,EAAQzK,aAAR,eAAeM,UACd,kBAAC0I,GAAD,YAAeyB,QAAf,IAAeA,OAAf,YAAeA,EAAQzK,aAAvB,aAAe,EAAeM,SAGhC,kBAAC,GAAD,CAAWiJ,UAAU,gBAArB,YACA,kBAAC,GAAD,CACEA,UAAU,eACVxB,KAAK,OACL7D,IAAKqG,EAAS,CACZS,SAAU,CAAE1M,OAAO,EAAMgC,QAAS,wBAClC4K,UAAW,CACT5M,MAAO,EACPgC,QAAS,2CAEX6K,UAAW,CACT7M,MAAO,IACPgC,QAAS,iDAIR,OAANmK,QAAM,IAANA,OAAA,YAAAA,EAAQvK,YAAR,eAAcI,UACb,kBAAC0I,GAAD,YAAeyB,QAAf,IAAeA,OAAf,YAAeA,EAAQvK,YAAvB,aAAe,EAAcI,SAG/B,kBAAC,GAAD,CAAWiJ,UAAU,gBAArB,YACA,kBAAC,GAAD,CACEpC,KAAK,WACLoC,UAAU,eACVxB,KAAK,MACL7D,IAAKqG,EAAS,CACZS,SAAU,CAAE1M,OAAO,EAAMgC,QAAS,wBAClC4K,UAAW,CACT5M,MAAO,EACPgC,QAAS,2CAEX6K,UAAW,CACT7M,MAAO,IACPgC,QAAS,iDAKR,OAANmK,QAAM,IAANA,OAAA,YAAAA,EAAQtK,WAAR,eAAaG,UACZ,kBAAC0I,GAAD,YAAeyB,QAAf,IAAeA,OAAf,YAAeA,EAAQtK,WAAvB,aAAe,EAAaG,SAG9B,kBAAC,GAAD,CACE8K,SAAUT,EAAUU,aACpB9B,UAAU,gBACVpC,KAAK,SACL7I,MAAM,sBChIEgN,QACa,cAA7BC,OAAOC,SAASC,UAEa,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACrB,2D,ilBCfR,IAYeC,GAZI,SAAC5O,GAClB,OACE,kBAAC6O,GAAD,CAAS3N,QAASlB,EAAM8O,cACtB,yBAAKtC,UAAYxM,EAAM+O,YAAc,OAAS,IAC5C,sCACA,sCACA,yCAQFF,GAAUxQ,IAAOC,IAAV,M,omBCXb,IAuBe0Q,GAvBM,SAAChP,GAAW,IACvBiP,EAASC,aAAU,CAAED,KAAMjP,EAAM+O,YAAc,EAAI,IAAnDE,KAER,OAA0B,IAAtBjP,EAAM+O,YAEN,kBAACI,GAAD,CAAiBC,MAAO,CACtBC,UAAWJ,EAAKK,YAAY,CAC1BC,MAAO,CAAC,EAAG,GAAK,GAAK,GACrBC,OAAQ,CAAC,GAAI,GAAI,GAAI,OACpBF,aAAY,SAAAG,GAAS,+BAAsBA,EAAtB,cAGxB,kBAACC,GAAD,KACE,4BAAI,kBAAC,IAAD,CAAMC,GAAG,IAAIzO,QAASlB,EAAM8O,cAA5B,QACJ,4BAAI,kBAAC,IAAD,CAAMa,GAAG,WAAWzO,QAASlB,EAAM8O,cAAnC,YACJ,4BAAI,kBAAC,IAAD,CAAMa,GAAG,UAAUzO,QAASlB,EAAM8O,cAAlC,cAKL,MAKHK,GAAkB9Q,YAAOuR,KAAStR,IAAhBD,CAAH,MASfqR,GAAWrR,IAAOwR,GAAV,M,omCChCd,IAwCeC,GAxCA,SAAC9P,GACd,IAAM+P,EAAeb,aAAU,CAC7B9G,KAAM,CAAEiH,UAAW,6BACnBA,UAAW,yBAGPW,EAAgBd,aAAU,CAC9B9G,KAAM,CAAEiH,UAAW,0BAA2BY,QAAS,GACvDN,GAAI,CAAEN,UAAW,uBAAwBY,QAAS,GAClDC,MAAO,IACPC,OAAQA,KAAOC,SAGjB,OACE,oCACE,kBAACC,GAAD,CAAQjB,MAAOW,GACb,kBAACO,GAAD,KAEE,kBAAC,GAAD,CAAUlB,MAAOY,GACf,kBAAC,IAAD,CAAML,GAAG,KAAT,OACA,kBAAC,IAAD,CAAMA,GAAG,UAAT,SACA,kBAAC,IAAD,CAAMA,GAAG,WAAT,YAGF,kBAACY,GAAD,KACE,kBAACC,GAAD,CACEzB,YAAa/O,EAAM+O,YACnBD,aAAc9O,EAAM8O,kBAK5B,kBAAC,GAAD,CACEC,YAAa/O,EAAM+O,YACnBD,aAAc9O,EAAM8O,iBAQtBuB,GAAShS,YAAOuR,KAASa,IAAhBpS,CAAH,MAUNiS,GAAgBjS,IAAOC,IAAV,MASboR,GAAWrR,YAAOuR,KAASC,GAAhBxR,CAAH,MA4BRkS,GAAgBlS,IAAOC,IAAV,M,w4BC/FnB,IA6CeoS,GA7CMC,YAAH,M,moDCAX,IAAMC,GAAgBvS,IAAOC,IAAV,MAMbuS,GAAmBxS,IAAOC,IAAV,MAahBwS,GAAgBzS,IAAOC,IAAV,MAKf,qBAAGyS,WAA+B,MAAQ,UAQxCC,GAAe3S,IAAO4S,IAAV,MAeZC,IAJW7S,IAAO8S,GAAV,MAIF9S,IAAOC,IAAV,OAOH8S,GAAS/S,IAAOC,IAAV,MAGR,gBAAGW,EAAH,EAAGA,MAAH,OAAgBA,GAAgB,UAG9BoS,GAAQhT,IAAOiT,SAAV,MASLC,GAAqBlT,IAAOK,EAAV,MCiHhB8S,GA9JK,WAAO,IAAD,cACAvR,mBAAS,CAC/B+K,KAAM,WACNyG,eACE,6FAJoB,mBACjBtO,EADiB,KACXmK,EADW,KAMlBvK,EAAa2O,cAAb3O,SANkB,EAOY9C,oBAAS,GAPrB,mBAOjB8Q,EAPiB,KAOLY,EAPK,KAQlBC,EAAUnL,mBARQ,EAcpB8G,eAJFE,EAVsB,EAUtBA,aACAD,EAXsB,EAWtBA,SACAE,EAZsB,EAYtBA,OACaY,EAbS,EAatBV,UAAaU,aAGflO,qBAAU,WAAM,4CACd,8BAAAO,EAAA,sEACuB0B,EAAIkC,YAAYxB,GADvC,QACMP,EADN,QAEee,QACXkC,QAAQC,IAAIlD,EAASe,UAErB+J,EAAQ,eACH9K,EADE,CAELwI,KAAMjI,EACN0O,eAAe,0BAAD,OAA4BjP,EAASiP,gBACnDI,mBAAoBrP,EAASiP,kBAE/BE,GACE,UAAAG,KAAKC,MAAMC,aAAaC,QAAQ,gBAAhC,eAA0ClP,YAAaA,IAZ7D,4CADc,uBAAC,WAAD,wBAkBdmP,KACC,CAACnP,IAEJ,IAAMoP,EAAa,uCAAG,WAAO1P,GAAP,qBAAA9B,EAAA,4DAED,qBADfyR,EAAOR,EAAQjL,QAAQ0L,MAAM,OAE3BC,EAAO,IAAIC,KAAK,CAACC,KAAKrP,EAAK0O,qBAAsB,CAACzH,KAAM,YAAaqI,SAAU,WAC9EC,iBAAmB,IAAIC,KAC5BL,EAAKtH,KAAO,kBACZoH,EAAOE,IAEHM,EAAU,IAAIC,UACZC,OAAO,UAAWrQ,EAAKsQ,OAC/BH,EAAQE,OAAO,UAAWrQ,EAAKY,SAC/BuP,EAAQE,OAAO,OAAQV,GAXH,SAYC/P,EAAImC,eAAeoO,GAZpB,OAYhBpQ,EAZgB,OAapBiD,QAAQC,IAAIlD,GAbQ,4CAAH,sDAgBnB,OACE,yBAAKwQ,MAAM,OACT,kBAACpC,GAAD,KACGG,GACC,kBAACF,GAAD,KACE,kBAAC,EAAD,CAAM3R,OAAO,OAAOW,UAAU,SAASR,QAAQ,MAAMJ,MAAM,OACzD,0BAAMkL,SAAUsD,EAAa0E,IAC3B,kBAACjB,GAAD,KACE,kBAACE,GAAD,CAAQnS,MAAM,OACZ,kBAAC,GAAD,CAAWuN,UAAU,gBAArB,YACA,kBAAC,GAAD,CACEA,UAAU,eACVxB,KAAK,OACLiI,YAAY,WACZ9L,IAAKqG,EAAS,CACZS,SAAU,CACR1M,OAAO,EACPgC,QAAS,wBAEX4K,UAAW,CACT5M,MAAO,EACPgC,QAAS,2CAEX6K,UAAW,CACT7M,MAAO,IACPgC,QAAS,iDAIR,OAANmK,QAAM,IAANA,OAAA,YAAAA,EAAQvK,YAAR,eAAcI,UACb,kBAAC0I,GAAD,YAAeyB,QAAf,IAAeA,OAAf,YAAeA,EAAQvK,YAAvB,aAAe,EAAcI,UAGjC,kBAAC6N,GAAD,CAAQnS,MAAM,OACZ,kBAAC,GAAD,wBACA,kBAAC,GAAD,CACEmL,KAAK,OACLY,KAAK,UACLkI,OAAO,wBACP/L,IAAKyK,MAIX,kBAAC,GAAD,gBACA,kBAAC,GAAD,CACExH,KAAK,OACL6I,YAAY,UACZjI,KAAK,UACLmI,aAAchQ,EAAKE,QACnB8D,IAAKqG,EAAS,CACZS,SAAU,CAAE1M,OAAO,EAAMgC,QAAS,uBAClC6K,UAAW,CACT7M,MAAO,IACPgC,QAAS,+CAIR,OAANmK,QAAM,IAANA,OAAA,YAAAA,EAAQrK,eAAR,eAAiBE,UAChB,kBAAC0I,GAAD,YAAeyB,QAAf,IAAeA,OAAf,YAAeA,EAAQrK,eAAvB,aAAe,EAAiBE,SAElC,kBAAC,GAAD,cACA,kBAAC8N,GAAD,CACEjH,KAAK,OACLY,KAAK,QACLoI,UAAU,MACVD,aAAchQ,EAAKkQ,QACnBlM,IAAKqG,EAAS,CACZY,UAAW,CACT7M,MAAO,IACPgC,QAAS,+CAKR,OAANmK,QAAM,IAANA,OAAA,YAAAA,EAAQqF,aAAR,eAAexP,UACd,kBAAC0I,GAAD,YAAeyB,QAAf,IAAeA,OAAf,YAAeA,EAAQqF,aAAvB,aAAe,EAAexP,SAEhC,kBAAC,GAAD,CACE8K,SAAUC,EACV9B,UAAU,gBACVpC,KAAK,SACL7I,MAAM,cAOhB,kBAACuP,GAAD,CAAeC,WAAYA,GACzB,kBAAC,EAAD,CACElR,UAAU,SACVR,QAAQ,MACRJ,MAAO8R,EAAa,MAAQ,OAE5B,kBAACC,GAAD,CAAcsC,IAAKnQ,EAAKsO,iBAExB,2BAAItO,EAAK6H,MACT,kBAACuG,GAAD,KAAqBpO,EAAKkQ,c,04CC9K/B,IAAM1U,GAAYN,IAAOO,MAAV,MAQT6J,GAAOpK,IAAOqK,KAAV,MAOJC,GAAgBtK,IAAOC,IAAV,MAObuK,GAAYxK,IAAOyK,MAAV,MAUTC,GAAc1K,IAAOO,MAAV,MAWXH,GAAYJ,IAAOK,EAAV,MAUTuN,GAAe5N,IAAOK,EAAV,MC2EV6U,GAlHD,WAAO,IAAD,QACd3G,EAAUC,cADI,EAEM5M,oBAAS,GAFf,mBAEXkM,EAFW,KAELW,EAFK,OAGgB7M,mBAAS,IAHzB,mBAGX8M,EAHW,KAGAC,EAHA,OAIkB/M,mBAAS,IAJ3B,mBAIXgN,EAJW,KAICC,EAJD,OAKYjN,oBAAS,GALrB,mBAKXkN,EALW,KAKFC,EALE,OAMMnN,mBAAS,IANf,mBAMXkD,EANW,KAMLmK,EANK,OAedC,eAPFC,EARgB,EAQhBA,SACAC,EATgB,EAShBA,aAEAC,GAXgB,EAUhBC,MAVgB,EAWhBD,QAGAE,GAdgB,EAYhB4F,SAZgB,EAahB3F,WAbgB,EAchBD,WAdgB,EAgBkB3N,mBAAS,SAhB3B,mBAgBXwM,EAhBW,KAgBCY,EAhBD,KAsBZS,EAAoBtC,uBAAY,WACpCsB,GAAQ,GACLK,GACDP,EAAQmB,KAAR,mBAAyB5K,MAE1B,CAACgK,EAASP,EAASzJ,IAEhB6K,EAAQ,uCAAG,iCAAArN,EAAA,6DAASwC,EAAT,EAASA,KAAMC,EAAf,EAAeA,IAAf,SACMf,EAAI2B,UAAUb,EAAMC,GAD1B,QACXZ,EADW,QAGFe,SACXyJ,EAAa,kEAAD,OACwDxK,EAASe,QADjE,WAGZ2J,EAAc,iBACdE,GAAW,KAEXJ,EACE,8DAEFM,EAAQnK,GACR6O,aAAayB,QAAQ,OAAQ3B,KAAK4B,UAAU,CAAC3Q,SAAUI,EAAMrB,MAAOU,EAASV,SAC7EuL,EAAc,iBACdD,GAAW,IAEbN,GAAQ,GAlBO,2CAAH,sDAqBd,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEJ,QAASoB,EACTzM,MAAO4L,EACPd,KAAMA,EACN5I,QAASwJ,EACTN,WAAYA,IAEd,kBAAC,EAAD,CAAMxN,MAAM,MAAMQ,GAAG,OACnB,kBAAC,GAAD,CAAM+M,UAAU,cAAcrC,SAAUsD,GA1C7B,SAAChL,GAChBuL,EAASvL,OA0CH,kBAAC,GAAD,cACA,kBAAC,GAAD,CAAW+J,UAAU,gBAArB,YACA,kBAAC,GAAD,CACEA,UAAU,eACVxB,KAAK,OACL7D,IAAKqG,EAAS,CACZS,SAAU,CAAE1M,OAAO,EAAMgC,QAAS,wBAClC4K,UAAW,CACT5M,MAAO,EACPgC,QAAS,qCAEX6K,UAAW,CACT7M,MAAO,IACPgC,QAAS,iDAKR,OAANmK,QAAM,IAANA,OAAA,YAAAA,EAAQvK,YAAR,eAAcI,UACb,kBAAC,GAAD,YAAemK,QAAf,IAAeA,OAAf,YAAeA,EAAQvK,YAAvB,aAAe,EAAcI,SAE/B,kBAAC,GAAD,CAAWiJ,UAAU,gBAArB,YACA,kBAAC,GAAD,CACEpC,KAAK,WACLY,KAAK,MACL7D,IAAKqG,EAAS,CACZS,SAAU,CAAE1M,OAAO,EAAMgC,QAAS,wBAClC4K,UAAW,CACT5M,MAAO,EACPgC,QAAS,qCAEX6K,UAAW,CACT7M,MAAO,IACPgC,QAAS,iDAKR,OAANmK,QAAM,IAANA,OAAA,YAAAA,EAAQtK,WAAR,eAAaG,UACZ,kBAAC,GAAD,YAAemK,QAAf,IAAeA,OAAf,YAAeA,EAAQtK,WAAvB,aAAe,EAAaG,SAG9B,kBAAC,GAAD,CACE8K,SAAUT,EAAUU,aACpBlE,KAAK,SACL7I,MAAM,cCxFlBoS,IAASC,OAAO,mBAtBA,WAAO,IAAD,EACgB3T,oBAAS,GADzB,mBACb4T,EADa,KACDC,EADC,KAEpB,OACE,kBAAC,IAAD,CAAQC,SAAS,KACf,kBAAC,GAAD,CACEhF,YAAa8E,EACb/E,aAAc,kBAAMgF,GAAc,SAAAE,GAAS,OAAKA,QAGlD,kBAACC,GAAD,MACA,yBAAK7E,MAAO,CAAElQ,OAAQ,QAASgV,WAAY,SACzC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,UAAUC,UAAWzH,KACjC,kBAAC,IAAD,CAAOwH,KAAK,SAASC,UAAWb,KAChC,kBAAC,IAAD,CAAOY,KAAK,qBAAqBC,UAAW5C,KAC5C,kBAAC,IAAD,CAAO2C,KAAK,IAAIC,UAAWpI,UAOrB,MAAaqI,SAASC,eAAe,STiG7C,kBAAmB3O,WACnBA,UAAU4O,cAAcC,MAAMC,MAAK,SAAAC,GAC/BA,EAAaC,kB","file":"static/js/main.66d08540.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const MainContainer = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n`;\r\n\r\nexport const MapContainer = styled.div`\r\n  width: 75%;\r\n`;\r\n\r\nexport const ListContainer = styled.div`\r\n  width: 25%;\r\n  max-height: 100%;\r\n  overflow: scroll;\r\n`;\r\n\r\nexport const PageTitle = styled.p`\r\n  font-family: Montserrat;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-size: 24px;\r\n  line-height: 44px;\r\n  text-align: center;\r\n`;\r\n\r\nexport const TextField = styled.input`\r\n  width:  100%;\r\n  height: 35px;\r\n  border: 1px solid rgba(48, 48, 48, 0.25);\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n`;","import styled from 'styled-components';\r\n\r\nexport const Title = styled.h1`\r\n  text-align: center;\r\n  font-family: Montserrat;\r\n  font-weight: normal;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const TextField = styled.input`\r\n  width:  100%;\r\n  height: 35px;\r\n  border: 1px solid rgba(48, 48, 48, 0.25);\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n`;","import styled from 'styled-components';\r\n\r\nconst Card = styled.div(({width = '100%', height = 'auto', minHeight = height, margin = '0px',padding = '0px', lg = width, md = lg, sm = md, xs = sm, cursor, hover, selfCenter, direction = 'row'}) => `\r\n  display: flex;\r\n  flex-direction: ${direction};\r\n  flex-wrap: wrap;\r\n  width: ${width};\r\n  height: ${height};\r\n  min-height: ${minHeight};\r\n  margin: ${margin};\r\n  padding: ${padding};\r\n  box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.25);\r\n  border-radius: 5px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: white;\r\n  ${selfCenter && 'margin: 10px auto;'}\r\n  @media only screen and (max-width: 1200px){\r\n    width: ${lg}\r\n  }\r\n\r\n  @media only screen and (max-width: 992px){\r\n    width: ${md}\r\n  }\r\n\r\n  @media only screen and (max-width: 768px){\r\n    width: ${sm}\r\n  }\r\n\r\n  @media only screen and (max-width: 576px){\r\n    width: ${xs}\r\n  }\r\n\r\n  &:hover {\r\n    cursor: ${cursor};\r\n    ${hover && 'box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);'}\r\n  }\r\n`\r\n);\r\n\r\nexport default Card;","import styled from 'styled-components';\r\n\r\nexport const CardListContainer = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Card from \"../../Commons/Card/Card\";\r\nimport { CardListContainer } from './styles';\r\nimport { IoIosBus } from 'react-icons/io';\r\n\r\n\r\nconst RouteCard = (props) => {\r\n  const [routes, setRoutes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (props.Routes.routes) {\r\n      if (Object.entries(props.Routes.routes).length !== 0) {\r\n        setRoutes(props.Routes.routes);\r\n      }\r\n      else {\r\n        setRoutes([]);\r\n      }\r\n    }\r\n  }, [props.Routes]);\r\n\r\n  const handleRouteClick = async (item) => {\r\n    props.callBack(item.RouteId);\r\n  };\r\n\r\n  return (\r\n    <CardListContainer>\r\n      {\r\n        routes.map((route, i) =>\r\n          <Card width=\"90%\" height=\"20%\" margin=\"10px\" cursor=\"pointer\" hover selfCenter key={route.RouteId}\r\n            onClick={() => handleRouteClick(route)}>\r\n            <IoIosBus/> {route.Name1}\r\n          </Card>\r\n        )\r\n      }\r\n    </CardListContainer>\r\n  )\r\n}\r\n\r\nexport default RouteCard;","import React from \"react\";\r\nimport { Title, Container,TextField } from \"./styles\";\r\nimport RouteCard from \"../RouteCard\";\r\n\r\nconst ListCard = (props) => {\r\n  function getRouteID(routeID) {\r\n    props.passRouteId(routeID);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {/* Displays Routes */}\r\n      <Title>{props.title}</Title>\r\n      <TextField as=\"select\"\r\n        value={props.currentToken}\r\n        onChange={(e) => props.setCurrentToken(e.currentTarget.value)}\r\n      >\r\n        {Object.entries(props.tokens).map((token, idx) => (\r\n          <option key={idx} value={token[1]}>\r\n            {token[0]}\r\n          </option>\r\n        ))}\r\n      </TextField>\r\n        <RouteCard Routes={props.routes} callBack={getRouteID} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ListCard;\r\n","const axios = require(\"axios\");\r\nconst URL = \"https://gtfs-mdc.herokuapp.com\";\r\n\r\nconst API = {\r\n  getRoutes: async function (token) {\r\n    let response = await axios.get(`${URL}/routes/find/all?tkn=${token}`);\r\n    return response.data;\r\n  },\r\n  getTokens: async () => {\r\n    let response = await axios.get(`${URL}/tokens`);\r\n    return response.data;\r\n  },\r\n  getShapeByRoute: async function (token, routeId) {\r\n    let response = await axios.get(\r\n      `${URL}/shapes/find?token=${token}&id=${routeId}`\r\n    );\r\n    return response.data;\r\n  },\r\n  getStopsByRoute: async function (routeId) {\r\n    let response = await axios.get(`${URL}/stops/find?id=${routeId}`);\r\n    return response.data;\r\n  },\r\n  registerUser: async function (username, password, email) {\r\n    try {\r\n      let response = await axios.post(`${URL}/register`, {\r\n        user: username,\r\n        pwd: password,\r\n        email,\r\n        address: ''\r\n      });\r\n      return response.data;\r\n    } catch (e) {\r\n      const { status } = e.response;\r\n      if (status === 406) {\r\n        return { message: \"Account already in use\" };\r\n      }\r\n      if (status === 500) {\r\n        return { message: \"There was an Error creating your account\" };\r\n      }\r\n      return { message: \"There was an Error creating your account\" };\r\n    }\r\n  },\r\n  getStations: async function () {\r\n    try {\r\n      let response = await axios.get(`${URL}/stations`);\r\n      return response.data;\r\n    } catch (e) {\r\n      return { message: \"There was an error getting the stations\" };\r\n    }\r\n  },\r\n  getTrainSchedule: async function (arrival, departure, date) {\r\n    try {\r\n      let response = await axios.get(\r\n        `${URL}/trains/find?arrival=${arrival}&departure=${departure}&departureDate=${date}`\r\n      );\r\n      return response.data;\r\n    } catch (e) {\r\n      return { message: \"There was an error getting your schedule\" };\r\n    }\r\n  },\r\n  getAllTrirail: async function () {\r\n    try {\r\n      let response = await axios.get(`${URL}/trirail/find/all`);\r\n      return response.data;\r\n    } catch (e) {\r\n      return { message: \"There was an error getting the trirails\" };\r\n    }\r\n  },\r\n  getTrirailShape: async function (id) {\r\n    try {\r\n      let response = await axios.get(`${URL}/trishape/find?id=${id}`);\r\n      return response.data;\r\n    } catch (e) {\r\n      return { message: \"There was an error getting the trirails shape\" };\r\n    }\r\n  },\r\n  LoginUser: async function (username, password) {\r\n    try {\r\n      let base64encoded = btoa(`${username}:${password}`);\r\n      let response = await axios.get(`${URL}/login`, {headers: {Authorization: `Basic ${base64encoded}`}});\r\n      return response.data;\r\n    } catch (e) {\r\n      switch (e?.response?.status) {\r\n        case 404:\r\n          return { message: e.response.data.Error };\r\n        case 400:\r\n          return { message: e.response.data.error };\r\n        default:\r\n          return { message: \"There was an error login in\" };\r\n      }\r\n    }\r\n  },\r\n  getUserInfo: async function (username) {\r\n    try {\r\n      let response = await axios.get(`${URL}/profile?user=${username}`);\r\n      return response.data;\r\n    } catch (e) {\r\n      return { message: 'There was an error getting the user profile'};\r\n    }\r\n  },\r\n  updateUserInfo: async function (data) {\r\n    try {\r\n      let response = await axios.patch(`${URL}/update`, data, {headers : {'content-type': 'multipart/form-data'}});\r\n      return response;\r\n    } catch (e) {\r\n      return { message: 'There was an error updating your Profile'}\r\n    }\r\n  }\r\n};\r\n\r\nexport default API;\r\n","\r\n  export const transMethods = ['Trains', 'Trirail', 'Bus'];","import styled from 'styled-components';\r\n\r\nexport const LocationButton = styled.div`\r\n  background: #FFFFFF;\r\n  border-radius: 4px;\r\n  width: 25px;\r\n  height: 25px;\r\n  box-shadow: 0 1px 5px rgba(0,0,0,0.35);\r\n  z-index: 2;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  margin-top: 10px;\r\n  margin-right: 10px;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const StyledLocationIcon = styled.svg`\r\n  width: 100%;\r\n  height: 100%;\r\n`;","import React from 'react';\r\nimport { TiLocationArrow } from 'react-icons/ti';\r\nimport { LocationButton, StyledLocationIcon } from './styles';\r\n\r\nconst Location = (props) => {\r\n  const handleGeoLocation = () => {\r\n    if (!navigator.geolocation) {\r\n      console.log(\"No Geolocation\")\r\n    } else {\r\n      navigator.geolocation.getCurrentPosition(handleGeoLocationSuccess, handleGeoLocationError);\r\n    }\r\n  }\r\n\r\n  const handleGeoLocationSuccess = (positions) => {\r\n    const {latitude, longitude, accuracy} = positions.coords;\r\n    props.setCurrentLocation({position: [latitude, longitude], accuracy: accuracy});\r\n  }\r\n\r\n  const handleGeoLocationError = (err) => {\r\n    console.log(err)\r\n  }\r\n\r\n  return (\r\n    <LocationButton onClick={handleGeoLocation}><StyledLocationIcon as={TiLocationArrow}/></LocationButton>\r\n  )\r\n};\r\n\r\nexport default Location;","import React, { useEffect, useState, useRef } from \"react\";\r\nimport {\r\n  Map as LeafletMap,\r\n  TileLayer,\r\n  CircleMarker,\r\n  Popup,\r\n  Polyline,\r\n  Marker,\r\n  Circle,\r\n} from \"react-leaflet\";\r\nimport { transMethods } from \"../../..//Static/values\";\r\n\r\nimport Location from \"../../Location/Location\";\r\n\r\nconst MapComponent = (props) => {\r\n  const [shape, setShape] = useState({});\r\n  const [trirailShape, setTrirailShape] = useState([]);\r\n  const [currentLocation, setCurrentLocation] = useState(undefined);\r\n  const [showPolyline, setShowPolyline] = useState('');\r\n  const mapRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (props.shape?.RoutePath?.length) {\r\n      setShowPolyline('route');\r\n      setShape(props.shape);\r\n      console.log(props.shape)\r\n      mapRef.current.leafletElement.fitBounds(props.shape?.RoutePath);\r\n    }\r\n\r\n    if(Array.isArray(props.shape)){\r\n      setShowPolyline('trirail');\r\n      setTrirailShape(props.shape);\r\n      mapRef.current.leafletElement.fitBounds(props.shape);\r\n    }\r\n  }, [props.shape]);\r\n\r\n  useEffect(() => {\r\n    if(currentLocation?.position){\r\n      mapRef.current.leafletElement.panTo(currentLocation.position);\r\n    }\r\n  }, [currentLocation]);\r\n\r\n  return (\r\n    <LeafletMap center={[25.7617, -80.1918]} zoom={13} ref={mapRef}>\r\n      <TileLayer\r\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n        url=\"https://{s}.tile.osm.org/{z}/{x}/{y}.png\"\r\n      />\r\n      <Location setCurrentLocation={setCurrentLocation} />\r\n      {currentLocation?.position && (\r\n        <>\r\n          <Marker position={currentLocation.position} />\r\n          <Circle\r\n            center={currentLocation.position}\r\n            radius={currentLocation.accuracy}\r\n          />\r\n        </>\r\n      )}\r\n      {showPolyline === 'route' && (<><Polyline positions={shape?.RoutePath || []} color={shape?.LineColor}>\r\n        <Popup>{shape.RoutePath && <div>{shape.Names}</div>}</Popup>\r\n      </Polyline>\r\n      {shape?.stops?.map((mark) => <CircleMarker radius={3} center={mark.Shape}><Popup>\r\n          <div>\r\n            {mark.StopName}: {Array.from(new Set(mark.Street.split(' '))).join(' ')}\r\n          </div>\r\n        </Popup></CircleMarker>)\r\n      }</>)}\r\n\r\n      {showPolyline === 'trirail' && trirailShape && <Polyline positions={trirailShape} />}\r\n    </LeafletMap>\r\n  );\r\n};\r\n\r\nexport default MapComponent;\r\n","import styled from 'styled-components';\r\n\r\nexport const TextField = styled.input`\r\n  width:  100%;\r\n  height: 35px;\r\n  border: 1px solid rgba(48, 48, 48, 0.25);\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const Form = styled.form` \r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 5%;\r\n`;\r\n\r\nexport const FormContainer = styled.div`\r\n  display: flex;\r\n  ${({wrap}) => wrap ? 'flex-wrap: wrap' : null};\r\n  width: 100%;\r\n  justify-content: center;\r\n  margin-top: 20px;\r\n  max-height: 400px;\r\n`;\r\n\r\nexport const TextLabel = styled.label`\r\n  font-family: Montserrat;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  line-height: 17px;\r\n  color: #797979;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nexport const InputButton = styled.input`\r\n  background: #E892A2;\r\n  border-radius: 5px;\r\n  width: 125px;\r\n  color: #FFFFFF;\r\n  height: 35px;\r\n  border-width: 0;\r\n  align-self: center;\r\n\r\n`;\r\n\r\nexport const PageTitle = styled.p`\r\n  font-family: Montserrat;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-size: 36px;\r\n  line-height: 44px;\r\n  align-self: start;\r\n  margin-bottom: 25px;\r\n`;\r\n\r\nexport const Text = styled.p`\r\n font-family: Montserrat;\r\n font-style: normal;\r\n font-weight: normal;\r\n font-size: 18px;\r\n line-height: 22px;\r\n text-align: center;\r\n white-space: pre-line;\r\n width: 300px;\r\n\r\n `;","import React, { useState, useEffect } from \"react\";\r\nimport { FormContainer, Form, TextField, TextLabel, InputButton, Text } from \"./styles\";\r\nimport Card from \"../../Commons/Card/Card\";\r\nimport API from \"../../../Services/API\";\r\nimport {IoMdTrain} from 'react-icons/io';\r\nimport moment from 'moment';\r\n\r\nconst TrainsPanel = () => {\r\n  const [stations, setStations] = useState({});\r\n  const today = moment().format('YYYY-MM-DDTkk:mm');\r\n  const [departureTime, setDepartureTime] = useState(today);\r\n  const [arrival, setArrival] = useState(undefined);\r\n  const [departure, setDeparture] = useState(undefined);\r\n  const [trainSchedule, setTrainSchedule] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function getStations() {\r\n      let response = await API.getStations();\r\n      setStations(response);\r\n    }\r\n\r\n    getStations();\r\n  }, []);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    let arrivalStation = arrival ? arrival : '';\r\n    let departureStation = departure ? departure : '';\r\n    let departureTimeFormat = moment(departureTime).subtract(1, 'years').format('YYYY-MM-DD');\r\n    let response = await API.getTrainSchedule(arrivalStation, departureStation, departureTimeFormat);\r\n    if(Array.isArray(response)){\r\n      setTrainSchedule(response);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <FormContainer>\r\n      <Card>\r\n        <Form onSubmit={handleSearch}>\r\n          <TextLabel>Departure Date</TextLabel>\r\n          <TextField type=\"datetime-local\" value={departureTime} onChange={e => setDepartureTime(e.currentTarget.value)}></TextField>\r\n          <TextLabel>Departure</TextLabel>\r\n          <TextField as=\"select\" value={departure} onChange={e => setDeparture(e.currentTarget.value)}>\r\n          <option value={undefined}></option>\r\n            {Object.entries(stations).map((station, idx) => (\r\n              <option key={idx} value={station[1]}>\r\n                {station[0]}\r\n              </option>\r\n            ))}\r\n          </TextField>\r\n          <TextLabel>Arrival</TextLabel>\r\n          <TextField as=\"select\" value={arrival} onChange={e => setArrival(e.currentTarget.value)}>\r\n            <option value={undefined}></option>\r\n            {Object.entries(stations).map((station, idx) => (\r\n              <option key={idx} value={station[1]}>\r\n                {station[0]}\r\n              </option>\r\n            ))}\r\n          </TextField>\r\n          <InputButton type=\"submit\" value=\"Search\"></InputButton>\r\n        </Form>\r\n      </Card>\r\n    </FormContainer>\r\n\r\n    <FormContainer wrap>\r\n      {trainSchedule.map((train, idx) => (\r\n        <Card key={idx} width=\"90%\" height=\"20%\" margin=\"10px\" cursor=\"pointer\" hover selfCenter> \r\n          <Text>{train.origin} <IoMdTrain /> {train.destination}</Text>\r\n          <Text>Train: {train.train}</Text>\r\n          <Text>Departure: {moment(train.scheduledDeparture).format('MM/DD/YY kk:mma')}</Text>\r\n        </Card>\r\n      ))}\r\n    </FormContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TrainsPanel;\r\n","import styled from 'styled-components';\r\n\r\nexport const Title = styled.h1`\r\n  text-align: center;\r\n  font-family: Montserrat;\r\n  font-weight: normal;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n  height: 90%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const CardListContainer = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n`;","import React, { useEffect, useState } from \"react\";\r\nimport { Container, CardListContainer, Title } from \"./styles\";\r\nimport API from \"../../../Services/API\";\r\nimport Card from \"../../Commons/Card/Card\";\r\nimport {IoMdTrain} from 'react-icons/io';\r\n\r\nconst TrirailPanel = (props) => {\r\n  const [trirails, setTrirails] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function getTrirails() {\r\n      let response = await API.getAllTrirail();\r\n      setTrirails(response);\r\n    }\r\n    getTrirails();\r\n  }, []);\r\n\r\n  const handleTrirailClick = async (id) => {\r\n    let shape = await API.getTrirailShape(id);\r\n    props.setShape(shape);\r\n  }\r\n  return (\r\n    <Container>\r\n      <Title>Trirails</Title>\r\n      <CardListContainer>\r\n        {trirails.map((trirail, idx) => (\r\n          <Card\r\n            width=\"90%\"\r\n            height=\"20%\"\r\n            margin=\"10px\"\r\n            cursor=\"pointer\"\r\n            hover\r\n            selfCenter\r\n            key={trirail.id}\r\n            onClick={() => handleTrirailClick(trirail.id)}\r\n          >\r\n            <IoMdTrain />{trirail.name}\r\n          </Card>\r\n        ))}\r\n      </CardListContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TrirailPanel;\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport {\r\n  ListContainer,\r\n  MainContainer,\r\n  MapContainer,\r\n  PageTitle,\r\n  TextField,\r\n} from \"./styles\";\r\nimport ListCard from \"./ListCard\";\r\nimport API from \"../../Services/API\";\r\nimport MapComponent from \"./Map\";\r\nimport { transMethods } from \"../../Static/values\";\r\nimport TrainsPanel from \"./TrainsPanel/TrainsPanel\";\r\nimport TrirailPanel from './TrirailPanel/TrirailPanel';\r\n\r\nconst MainPage = () => {\r\n  const [routeId, setRouteId] = useState(\"\");\r\n  const [routes, setRoutes] = useState([]);\r\n  const [shape, setShape] = useState({});\r\n  const [tokens, setTokens] = useState({});\r\n  const [currentToken, setCurrentToken] = useState(\"\");\r\n  const [points, setPoints] = useState([]);\r\n  const [currentTransMethod, setCurrentTransMethod] = useState(undefined);\r\n\r\n  const getDataPerRoute = useCallback(\r\n    async (routeId) => {\r\n      if (routeId) {\r\n        let shape = await API.getShapeByRoute(currentToken, routeId);\r\n        let stops = await API.getStopsByRoute(routeId);\r\n        setShape({ ...shape, stops });\r\n      }\r\n    },\r\n    [currentToken]\r\n  );\r\n\r\n  const getBusData = useCallback(async () => {\r\n    let apiTokens = await API.getTokens();\r\n    setTokens(apiTokens);\r\n    setCurrentToken(Object.values(apiTokens)[0]);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if(currentTransMethod === transMethods[2]){\r\n      getBusData();\r\n    }\r\n  }, [currentTransMethod, getBusData])\r\n  /*\r\n  Fetches routes onLoad &\r\n  Fetch routes per token passed\r\n  Rerender component when CurrentToken Changes\r\n   */\r\n  useEffect(() => {\r\n    async function fetchRoutes() {\r\n      let apiRoutes = await API.getRoutes(currentToken);\r\n      setRoutes(apiRoutes);\r\n      setPoints(apiRoutes.points);\r\n    }\r\n\r\n    fetchRoutes();\r\n  }, [currentToken]);\r\n\r\n  useEffect(() => {\r\n    getDataPerRoute(routeId);\r\n  }, [routeId, getDataPerRoute]);\r\n\r\n  return (\r\n    // Map LeftSide\r\n    <MainContainer>\r\n      <MapContainer>\r\n        <MapComponent shape={shape} currentTransMethod={currentTransMethod} />\r\n      </MapContainer>\r\n\r\n      {/*//Routes List RightSide*/}\r\n      <ListContainer>\r\n        <PageTitle>Select Method of Transportation:</PageTitle>\r\n        <TextField as=\"select\"\r\n          value={currentTransMethod}\r\n          onChange={(e) => setCurrentTransMethod(e.currentTarget.value)}>\r\n        \r\n          <option></option>\r\n          {transMethods.map((method, idx) => (\r\n            <option value={method} key={idx}>\r\n              {method}\r\n            </option>\r\n          ))}\r\n        </TextField>\r\n        {currentTransMethod === transMethods[0] && <TrainsPanel />}\r\n        {currentTransMethod === transMethods[1] && <TrirailPanel setShape={setShape}/>}\r\n        {currentTransMethod === transMethods[2] && (\r\n          <ListCard\r\n            title={\"Routes\"}\r\n            routes={routes}\r\n            passRouteId={setRouteId}\r\n            setCurrentToken={setCurrentToken}\r\n            tokens={tokens}\r\n          />\r\n        )}\r\n\r\n        {/* <RouteCard title={\"Trips\"}/> */}\r\n      </ListContainer>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport MainPage from './Components/MainPage/MainPage';\r\n\r\nconst App = () => {\r\n\r\n    return (\r\n        <MainPage/>\r\n    )\r\n};\r\n\r\nexport default App;\r\n","import styled from 'styled-components';\r\n\r\nexport const TextField = styled.input`\r\n  width:  100%;\r\n  height: 35px;\r\n  border: 1px solid rgba(48, 48, 48, 0.25);\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n  padding:${({type}) => type === 'file' ? '1.5%' : '10px'};\r\n`;\r\n\r\nexport const Form = styled.form` \r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 5%;\r\n`;\r\n\r\nexport const FormContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: center;\r\n  margin-top: 20px;\r\n`;\r\n\r\nexport const TextLabel = styled.label`\r\n  font-family: Montserrat;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  line-height: 17px;\r\n  color: #797979;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nexport const InputButton = styled.input`\r\n  background: #E892A2;\r\n  border-radius: 5px;\r\n  width: 125px;\r\n  color: #FFFFFF;\r\n  height: 35px;\r\n  border-width: 0;\r\n  align-self: center;\r\n\r\n`;\r\n\r\nexport const PageTitle = styled.p`\r\n  font-family: Montserrat;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-size: 36px;\r\n  line-height: 44px;\r\n  align-self: start;\r\n  margin-bottom: 25px;\r\n`;\r\n\r\nexport const ErrorMessage = styled.p`\r\n  font-family: Montserrat;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-size: 14px;\r\n  color: red;\r\n  margin-top: -15px;\r\n  margin-bottom: 10px;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ModalBackground = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgba(0, 0, 0, 0.75);\r\n  z-index: 2;\r\n  top: 0;\r\n  left: 0;\r\n  position: fixed;\r\n  display: ${({show}) => show ? 'flex' : 'none'};\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const CardTitle = styled.h1`\r\n    position: absolute;\r\n    top: 8px;\r\n    left: 16px;\r\n    text-align: left;\r\n`;\r\n\r\nexport const CardDescription = styled.pre`\r\n    font-size: medium;\r\n    white-space: pre-line;\r\n    text-align: center;\r\n    font-weight: bold;\r\n`;\r\n\r\nexport const ModalText = styled.p`\r\n font-family: Montserrat;\r\n font-style: normal;\r\n font-weight: normal;\r\n font-size: 18px;\r\n line-height: 22px;\r\n text-align: center;\r\n white-space: pre-line;\r\n width: 300px;\r\n\r\n `;\r\n","import React from \"react\";\r\nimport Card from \"../Card/Card\";\r\nimport { CardTitle, ModalBackground, ModalText } from \"./styles\";\r\nimport { InputButton } from \"../../SignupPage/styles\";\r\n\r\nconst Modal = (props) => {\r\n  const onClose = (e) => {\r\n    return props.onClose?.(e);\r\n  };\r\n\r\n  return (\r\n    <ModalBackground show={props.show}>\r\n      <Card position=\"relative\" width=\"558px\" height=\"325px\" direction=\"column\">\r\n        {/*Todo align to top left*/}\r\n        <CardTitle>{props.title}</CardTitle>\r\n        <ModalText className=\"content\">{props.message}</ModalText>\r\n        <div className=\"actions\">\r\n          <InputButton\r\n            className=\"signup-button\"\r\n            type=\"submit\"\r\n            value={props?.buttonText || 'Close'}\r\n            onClick={onClose}\r\n          />\r\n        </div>\r\n      </Card>\r\n    </ModalBackground>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport API from \"../../Services/API.js\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  TextField,\r\n  Form,\r\n  FormContainer,\r\n  TextLabel,\r\n  InputButton,\r\n  PageTitle,\r\n  ErrorMessage,\r\n} from \"./styles\";\r\nimport Card from \"../Commons/Card/Card.js\";\r\nimport Modal from \"../Commons/Modal/Modal\";\r\n\r\nexport default function SignUp() {\r\n  let history = useHistory();\r\n  const [show, setShow] = useState(false);\r\n  const [modalText, setmodalText] = useState(\"\");\r\n  const [modalTitle, setmodalTitle] = useState(\"\");\r\n  const [success, setSuccess] = useState(false);\r\n  const [buttonText, setButtonText] = useState('Close');\r\n  const [user, setUser] = useState('');\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    errors,\r\n    clearError,\r\n    formState,\r\n  } = useForm();\r\n\r\n  const onSubmit = (data) => {\r\n    validate(data);\r\n  };\r\n\r\n  \r\n  const handleModalButton = useCallback(() => {\r\n    setShow(false);\r\n    if(success){\r\n      history.push(`/profile/${user}`);\r\n    }\r\n  }, [success, history, user]);\r\n\r\n  const validate = async ({ user, pwd, email }) => {\r\n    let response = await API.registerUser(user, pwd, email);\r\n\r\n    //Username was taken\r\n    if (response.message) {\r\n      setmodalText(\r\n        `There was an error signing up with the given information \\n \\n ${response.message} \\n \\n`\r\n      );\r\n      setmodalTitle(\"Sign up Error\");\r\n      setSuccess(false);\r\n    } else {\r\n      setUser(user);\r\n      setmodalText(\r\n        \"Succesfuly created an account!\"\r\n      );\r\n      setButtonText('Go to Profile')\r\n      setSuccess(true);\r\n    }\r\n    setShow(true);\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <Modal\r\n        onClose={handleModalButton}\r\n        title={modalTitle}\r\n        show={show}\r\n        message={modalText}\r\n        buttonText={buttonText}\r\n      />\r\n      <Card width=\"50%\" xs=\"95%\">\r\n        <Form className=\"signup-form\" onSubmit={handleSubmit(onSubmit)}>\r\n          <PageTitle>Sign up</PageTitle>\r\n          <TextLabel className=\"signup-label\">Email</TextLabel>\r\n          <TextField\r\n            className=\"signup-input\"\r\n            name=\"email\"\r\n            ref={register({\r\n              required: { value: true, message: \"Email is required\" },\r\n              pattern: {\r\n                value: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\r\n                message: \"Please enter a valid Email\",\r\n              },\r\n            })}\r\n          />\r\n          {errors?.email?.message && (\r\n            <ErrorMessage>{errors?.email?.message}</ErrorMessage>\r\n          )}\r\n\r\n          <TextLabel className=\"signup-label\">Username</TextLabel>\r\n          <TextField\r\n            className=\"signup-input\"\r\n            name=\"user\"\r\n            ref={register({\r\n              required: { value: true, message: \"Username is required\" },\r\n              minLength: {\r\n                value: 6,\r\n                message: \"Username has to be atleast 6 characters\",\r\n              },\r\n              maxLength: {\r\n                value: 100,\r\n                message: \"Username can have at most 100 characters\",\r\n              },\r\n            })}\r\n          />\r\n          {errors?.user?.message && (\r\n            <ErrorMessage>{errors?.user?.message}</ErrorMessage>\r\n          )}\r\n\r\n          <TextLabel className=\"signup-label\">Password</TextLabel>\r\n          <TextField\r\n            type=\"password\"\r\n            className=\"signup-input\"\r\n            name=\"pwd\"\r\n            ref={register({\r\n              required: { value: true, message: \"Password is required\" },\r\n              minLength: {\r\n                value: 6,\r\n                message: \"Username has to be atleast 6 characters\",\r\n              },\r\n              maxLength: {\r\n                value: 100,\r\n                message: \"Username can have at most 100 characters\",\r\n              },\r\n            })}\r\n          />\r\n\r\n          {errors?.pwd?.message && (\r\n            <ErrorMessage>{errors?.pwd?.message}</ErrorMessage>\r\n          )}\r\n\r\n          <InputButton\r\n            disabled={formState.isSubmitting}\r\n            className=\"signup-button\"\r\n            type=\"submit\"\r\n            value=\"Create Account\"\r\n          />\r\n        </Form>\r\n      </Card>\r\n    </FormContainer>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return;\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config);\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        'This web app is being served cache-first by a service ' +\r\n                        'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n                    );\r\n                });\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                if (installingWorker == null) {\r\n                    return;\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\r\n                                'New content is available and will be used when all ' +\r\n                                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n                            );\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration);\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log('Content is cached for offline use.');\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n        })\r\n        .catch(error => {\r\n            console.error('Error during service worker registration:', error);\r\n        });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n        headers: {'Service-Worker': 'script'}\r\n    })\r\n        .then(response => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get('content-type');\r\n            if (\r\n                response.status === 404 ||\r\n                (contentType != null && contentType.indexOf('javascript') === -1)\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then(registration => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                });\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log(\r\n                'No internet connection found. App is running in offline mode.'\r\n            );\r\n        });\r\n}\r\n\r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister();\r\n        });\r\n    }\r\n}\r\n","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst Burgermenu = (props) => {\r\n  return (\r\n    <Wrapper onClick={props.handleNavbar}>\r\n      <div className={ props.navbarState ? \"open\" : \"\" }>\r\n        <span>&nbsp;</span>\r\n        <span>&nbsp;</span>\r\n        <span>&nbsp;</span>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Burgermenu;\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  padding-top: .7rem;\r\n  cursor: pointer;\r\n  display: flex;\r\n\r\n  & span {\r\n    background: #fdcb6e;\r\n    display: flex;\r\n    position: relative;\r\n    width: 3.5rem;\r\n    height: .4rem;\r\n    margin-bottom: .7rem;\r\n    transition: all ease-in-out 0.2s;\r\n  }\r\n\r\n  .open span:nth-child(2) {\r\n      opacity: 0;\r\n    }\r\n\r\n  .open span:nth-child(3) {\r\n    transform: rotate(45deg);\r\n    top: -11px;\r\n  }\r\n\r\n  .open span:nth-child(1) {\r\n    transform: rotate(-45deg);\r\n    top: 11px;\r\n  }\r\n\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { useSpring, animated } from 'react-spring';\r\n\r\nconst CollapseMenu = (props) => {\r\n  const { open } = useSpring({ open: props.navbarState ? 0 : 1 });\r\n\r\n  if (props.navbarState === true) {\r\n    return (\r\n      <CollapseWrapper style={{\r\n        transform: open.interpolate({\r\n          range: [0, 0.2, 0.3, 1],\r\n          output: [0, -20, 0, -200],\r\n        }).interpolate(openValue => `translate3d(0, ${openValue}px, 0`),\r\n      }}\r\n      >\r\n        <NavLinks>\r\n          <li><Link to=\"/\" onClick={props.handleNavbar}>Map</Link></li>\r\n          <li><Link to=\"/profile\" onClick={props.handleNavbar}>Account</Link></li>\r\n          <li><Link to=\"/signup\" onClick={props.handleNavbar}>Sign Up</Link></li>\r\n        </NavLinks>\r\n      </CollapseWrapper>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default CollapseMenu;\r\n\r\nconst CollapseWrapper = styled(animated.div)`\r\n  z-index: 1;\r\n  background: #2d3436;\r\n  position: fixed;\r\n  top: 4.5rem;\r\n  left: 0;\r\n  right: 0;\r\n`;\r\n\r\nconst NavLinks = styled.ul`\r\n  list-style-type: none;\r\n  padding: 2rem 1rem 2rem 2rem;\r\n\r\n  & li {\r\n    transition: all 300ms linear 0s;\r\n  }\r\n\r\n  & a {\r\n    font-size: 1.4rem;\r\n    line-height: 2;\r\n    color: #dfe6e9;\r\n    text-transform: uppercase;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      color: #fdcb6e;\r\n      border-bottom: 1px solid #fdcb6e;\r\n    }\r\n  }\r\n`;\r\n","import React from 'react'\r\nimport styled from \"styled-components\";\r\nimport { Link } from 'react-router-dom';\r\nimport { useSpring, animated, config } from \"react-spring\";\r\n\r\nimport Menu from \"./Menu\";\r\nimport CollapseMenu from \"./CollapseMenu\";\r\n\r\nconst Navbar = (props) => {\r\n  const barAnimation = useSpring({\r\n    from: { transform: 'translate3d(0, -10rem, 0)' },\r\n    transform: 'translate3d(0, 0, 0)',\r\n  });\r\n\r\n  const linkAnimation = useSpring({\r\n    from: { transform: 'translate3d(0, 30px, 0)', opacity: 0 },\r\n    to: { transform: 'translate3d(0, 0, 0)', opacity: 1 },\r\n    delay: 800,\r\n    config: config.wobbly,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <NavBar style={barAnimation}>\r\n        <FlexContainer>\r\n         \r\n          <NavLinks style={linkAnimation}>\r\n            <Link to=\"/\">Map</Link>\r\n            <Link to=\"/login\">login</Link>\r\n            <Link to=\"/signup\">Sign Up</Link>\r\n       \r\n          </NavLinks>\r\n          <BurgerWrapper>\r\n            <Menu\r\n              navbarState={props.navbarState} \r\n              handleNavbar={props.handleNavbar}\r\n            />\r\n          </BurgerWrapper>\r\n        </FlexContainer>\r\n      </NavBar>\r\n      <CollapseMenu \r\n        navbarState={props.navbarState} \r\n        handleNavbar={props.handleNavbar}\r\n      />\r\n   </>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n\r\nconst NavBar = styled(animated.nav)`\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  background: #2d3436;\r\n  z-index: 1;\r\n  font-size: 1.4rem;\r\n`;\r\n\r\nconst FlexContainer = styled.div`\r\n \r\n  display: flex;\r\n  margin-right: auto;\r\n  padding: 0 2rem;;\r\n  justify-content: space-between;\r\n  height: 5rem;\r\n`;\r\n\r\nconst NavLinks = styled(animated.ul)`\r\n  justify-self: end;\r\n  list-style-type: none;\r\n  margin: auto 0; \r\n  z-index: 0;\r\n\r\n  & a {\r\n    color: #dfe6e9;\r\n    text-transform: uppercase;\r\n    font-weight: 600;\r\n    border-bottom: 1px solid transparent;\r\n    margin: 0 1.5rem;\r\n    transition: all 300ms linear 0s;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n\r\n\r\n    &:hover {\r\n      color: #fdcb6e;\r\n      border-bottom: 1px solid #fdcb6e;\r\n    }\r\n\r\n    @media (max-width: 768px) {\r\n      display: none;\r\n  \r\n    }\r\n  }\r\n`;\r\nconst BurgerWrapper = styled.div`\r\n  margin-right: auto 0;\r\n  align-content: right;\r\n\r\n  @media (min-width: 769px) {\r\n    display: flex;\r\n  }\r\n`;\r\n","import { createGlobalStyle } from 'styled-components';\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n\r\n  @import url('https://fonts.googleapis.com/css?family=Montserrat:400,600&display=swap');;\r\n\r\n  *,\r\n  *::after,\r\n  *::before {\r\n    margin: 0px;\r\n    padding: 0px;\r\n    box-sizing: inherit;\r\n  }\r\n\r\n  html {\r\n    font-size: 62.5%;\r\n    background-color: #F2F2F2;\r\n  }\r\n\r\n  body {\r\n    box-sizing: border-box;\r\n    font-family: 'Montserrat', sans-serif;\r\n  }\r\n\r\n  ::-webkit-scrollbar {\r\n    width: 12px;\r\n}\r\n \r\n/* Track */\r\n::-webkit-scrollbar-track {\r\n    -webkit-box-shadow: none; \r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n}\r\n \r\n/* Handle */\r\n::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n    background: rgba(0,0,0,0.4); \r\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.25); \r\n}\r\n::-webkit-scrollbar-thumb:window-inactive {\r\n\tbackground: rgba(0,0,0,0.2); \r\n}\r\n`;\r\n\r\nexport default GlobalStyles;\r\n","import styled from \"styled-components\";\r\n\r\nexport const PageContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nexport const ProfileContainer = styled.div`\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 16px;\r\n  display: flex;\r\n  width: 60%;\r\n  margin-top: 5%;\r\n  @media only screen and (max-width: 576px) {\r\n    width: 100%;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nexport const SideContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 16px;\r\n  justify-content: center;\r\n  width: ${({ isLoggedIn }) => (isLoggedIn ? \"30%\" : \"100%\")};\r\n  margin-top: 5%;\r\n\r\n  @media only screen and (max-width: 576px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const ProfileImage = styled.img`\r\n  border-radius: 60%;\r\n  justify-content: center;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 128px;\r\n  width: 128px;\r\n  border: 4px solid #eaeaea;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport const StyledHr = styled.hr`\r\n  width: 500px;\r\n`;\r\n\r\nexport const Row = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const Column = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: ${({ width }) => (width ? width : \"100%\")};\r\n`;\r\n\r\nexport const About = styled.textarea`\r\n  height: 200px;\r\n  width: 100%;\r\n  border: 1px solid rgba(48, 48, 48, 0.25);\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n  resize: none;\r\n`;\r\n\r\nexport const ProfileDescription = styled.p`\r\n  padding-top: 20px;\r\n  font-size: 14px;\r\n`;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport {\r\n  ProfileContainer,\r\n  ProfileImage,\r\n  StyledHr,\r\n  SideContainer,\r\n  FormBox,\r\n  Row,\r\n  Column,\r\n  About,\r\n  PageContainer,\r\n  ProfileDescription,\r\n} from \"./styles\";\r\nimport Card from \"../Commons/Card/Card\";\r\nimport {\r\n  TextLabel,\r\n  InputButton,\r\n  Form,\r\n  TextField,\r\n  ErrorMessage,\r\n} from \"../SignupPage/styles\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport API from \"../../Services/API\";\r\n\r\nconst UserProfile = () => {\r\n  const [user, setUser] = useState({\r\n    name: \"John Doe\",\r\n    profilePicture:\r\n      \"https://upload.wikimedia.org/wikipedia/commons/4/4e/Macaca_nigra_self-portrait_large.jpg\",\r\n  });\r\n  let { username } = useParams();\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const fileRef = useRef();\r\n  const {\r\n    handleSubmit,\r\n    register,\r\n    errors,\r\n    formState: { isSubmitting },\r\n  } = useForm();\r\n\r\n  useEffect(() => {\r\n    async function getProfile() {\r\n      let response = await API.getUserInfo(username);\r\n      if (response.message) {\r\n        console.log(response.message);\r\n      } else {\r\n        setUser({\r\n          ...response,\r\n          name: username,\r\n          profilePicture: `data:image/png;base64, ${response.profilePicture}`,\r\n          profilePictureData: response.profilePicture,\r\n        });\r\n        setIsLoggedIn(\r\n          JSON.parse(localStorage.getItem(\"user\"))?.username === username\r\n        );\r\n      }\r\n    }\r\n\r\n    getProfile();\r\n  }, [username]);\r\n\r\n  const submitProfile = async (data) => {\r\n    let file = fileRef.current.files[0];\r\n    if(typeof file === 'undefined'){\r\n      let blob = new Blob([atob(user.profilePictureData)], {type: 'image/png', encoding: 'utf-8'});\r\n      blob.lastModifiedDate = new Date();\r\n      blob.name = 'profile_pic.png';\r\n      file = blob;\r\n    }\r\n    const profile = new FormData();\r\n    profile.append(\"aboutMe\", data.about);\r\n    profile.append(\"address\", data.address);\r\n    profile.append(\"file\", file);\r\n    let response = await API.updateUserInfo(profile);\r\n    console.log(response)\r\n  };\r\n\r\n  return (\r\n    <div class=\"row\">\r\n      <PageContainer>\r\n        {isLoggedIn && (\r\n          <ProfileContainer>\r\n            <Card height=\"110%\" direction=\"column\" padding=\"10%\" width=\"80%\">\r\n              <form onSubmit={handleSubmit(submitProfile)}>\r\n                <Row>\r\n                  <Column width=\"45%\">\r\n                    <TextLabel className=\"signup-label\">Username</TextLabel>\r\n                    <TextField\r\n                      className=\"signup-input\"\r\n                      name=\"user\"\r\n                      placeholder=\"Username\"\r\n                      ref={register({\r\n                        required: {\r\n                          value: true,\r\n                          message: \"Username is required\",\r\n                        },\r\n                        minLength: {\r\n                          value: 6,\r\n                          message: \"Username has to be atleast 6 characters\",\r\n                        },\r\n                        maxLength: {\r\n                          value: 100,\r\n                          message: \"Username can have at most 100 characters\",\r\n                        },\r\n                      })}\r\n                    />\r\n                    {errors?.user?.message && (\r\n                      <ErrorMessage>{errors?.user?.message}</ErrorMessage>\r\n                    )}\r\n                  </Column>\r\n                  <Column width=\"45%\">\r\n                    <TextLabel>Profile Picture</TextLabel>\r\n                    <TextField\r\n                      type=\"file\"\r\n                      name=\"profile\"\r\n                      accept=\"image/png, image/jpeg\"\r\n                      ref={fileRef}\r\n                    />\r\n                  </Column>\r\n                </Row>\r\n                <TextLabel>Address</TextLabel>\r\n                <TextField\r\n                  type=\"text\"\r\n                  placeholder=\"Address\"\r\n                  name=\"address\"\r\n                  defaultValue={user.address}\r\n                  ref={register({\r\n                    required: { value: true, message: \"Address is required\" },\r\n                    maxLength: {\r\n                      value: 100,\r\n                      message: \"Addresses are capped at 100 characters\",\r\n                    },\r\n                  })}\r\n                />\r\n                {errors?.address?.message && (\r\n                  <ErrorMessage>{errors?.address?.message}</ErrorMessage>\r\n                )}\r\n                <TextLabel>About</TextLabel>\r\n                <About\r\n                  type=\"text\"\r\n                  name=\"about\"\r\n                  maxlength=\"500\"\r\n                  defaultValue={user.aboutMe}\r\n                  ref={register({\r\n                    maxLength: {\r\n                      value: 100,\r\n                      message: \"Addresses are capped at 100 characters\",\r\n                    },\r\n                  })}\r\n                />\r\n\r\n                {errors?.about?.message && (\r\n                  <ErrorMessage>{errors?.about?.message}</ErrorMessage>\r\n                )}\r\n                <InputButton\r\n                  disabled={isSubmitting}\r\n                  className=\"update-button\"\r\n                  type=\"submit\"\r\n                  value=\"Submit\"\r\n                />\r\n              </form>\r\n            </Card>\r\n          </ProfileContainer>\r\n        )}\r\n\r\n        <SideContainer isLoggedIn={isLoggedIn}>\r\n          <Card\r\n            direction=\"column\"\r\n            padding=\"10%\"\r\n            width={isLoggedIn ? \"80%\" : \"50%\"}\r\n          >\r\n            <ProfileImage src={user.profilePicture} />\r\n\r\n            <p>{user.name}</p>\r\n            <ProfileDescription>{user.aboutMe}</ProfileDescription>\r\n          </Card>\r\n        </SideContainer>\r\n      </PageContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import styled from 'styled-components';\r\n\r\nexport const TextField = styled.input`\r\n  width:  100%;\r\n  height: 35px;\r\n  border: 1px solid rgba(48, 48, 48, 0.25);\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const Form = styled.form` \r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 5%;\r\n`;\r\n\r\nexport const FormContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: center;\r\n  margin-top: 20px;\r\n`;\r\n\r\nexport const TextLabel = styled.label`\r\n  font-family: Montserrat;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  line-height: 17px;\r\n  color: #797979;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nexport const InputButton = styled.input`\r\n  background: #E892A2;\r\n  border-radius: 5px;\r\n  width: 125px;\r\n  color: #FFFFFF;\r\n  height: 35px;\r\n  border-width: 0;\r\n  align-self: center;\r\n\r\n`;\r\n\r\nexport const PageTitle = styled.p`\r\n  font-family: Montserrat;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-size: 36px;\r\n  line-height: 44px;\r\n  align-self: start;\r\n  margin-bottom: 25px;\r\n`;\r\n\r\nexport const ErrorMessage = styled.p`\r\n  font-family: Montserrat;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-size: 14px;\r\n  color: red;\r\n  margin-top: -15px;\r\n  margin-bottom: 10px;\r\n`;\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport API from \"../../Services/API.js\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  TextField,\r\n  Form,\r\n  FormContainer,\r\n  TextLabel,\r\n  InputButton,\r\n  PageTitle,\r\n  ErrorMessage,\r\n} from \"./styles\";\r\nimport Card from \"../Commons/Card/Card.js\";\r\nimport Modal from \"../Commons/Modal/Modal\";\r\n\r\nconst Login = () => {\r\n  let history = useHistory();\r\n  const [show, setShow] = useState(false);\r\n  const [modalText, setmodalText] = useState(\"\");\r\n  const [modalTitle, setmodalTitle] = useState(\"\");\r\n  const [success, setSuccess] = useState(false);\r\n  const [user, setUser] = useState('');\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    errors,\r\n    setError,\r\n    clearError,\r\n    formState,\r\n  } = useForm();\r\n  const [buttonText, setButtonText] = useState('Close');\r\n\r\n  const onSubmit = (data) => {\r\n    validate(data);\r\n  };\r\n\r\n  const handleModalButton = useCallback(() => {\r\n    setShow(false);\r\n    if(success){\r\n      history.push(`/profile/${user}`);\r\n    }\r\n  }, [success, history, user]);\r\n\r\n  const validate = async ({ user, pwd }) => {\r\n    let response = await API.LoginUser(user, pwd);\r\n    //Username was taken\r\n    if (response.message) {\r\n      setmodalText(\r\n        `There was an error signing up with the given information \\n \\n ${response.message} \\n \\n`\r\n      );\r\n      setmodalTitle(\"Sign up Error\");\r\n      setSuccess(false);\r\n    } else {\r\n      setmodalText(\r\n        \"Succesfuly created an account! Will Redirect in 5 seconds.\"\r\n      );\r\n      setUser(user);\r\n      localStorage.setItem('user', JSON.stringify({username: user, token: response.token}));\r\n      setButtonText('Go to Profile')\r\n      setSuccess(true);\r\n    }\r\n    setShow(true);\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <Modal\r\n        onClose={handleModalButton}\r\n        title={modalTitle}\r\n        show={show}\r\n        message={modalText}\r\n        buttonText={buttonText}\r\n      />\r\n      <Card width=\"50%\" xs=\"95%\">\r\n        <Form className=\"signup-form\" onSubmit={handleSubmit(onSubmit)}>\r\n          <PageTitle>Login</PageTitle>\r\n          <TextLabel className=\"signup-label\">Username</TextLabel>\r\n          <TextField\r\n            className=\"signup-input\"\r\n            name=\"user\"\r\n            ref={register({\r\n              required: { value: true, message: \"Username is required\" },\r\n              minLength: {\r\n                value: 6,\r\n                message: \"Username has atleast 6 characters\",\r\n              },\r\n              maxLength: {\r\n                value: 100,\r\n                message: \"Username can have at most 100 characters\",\r\n              },\r\n            })}\r\n          />\r\n\r\n          {errors?.user?.message && (\r\n            <ErrorMessage>{errors?.user?.message}</ErrorMessage>\r\n          )}\r\n          <TextLabel className=\"signup-label\">Password</TextLabel>\r\n          <TextField\r\n            type=\"password\"\r\n            name=\"pwd\"\r\n            ref={register({\r\n              required: { value: true, message: \"Password is required\" },\r\n              minLength: {\r\n                value: 6,\r\n                message: \"Username has atleast 6 characters\",\r\n              },\r\n              maxLength: {\r\n                value: 100,\r\n                message: \"Username can have at most 100 characters\",\r\n              },\r\n            })}\r\n          />\r\n\r\n          {errors?.pwd?.message && (\r\n            <ErrorMessage>{errors?.pwd?.message}</ErrorMessage>\r\n          )}\r\n\r\n          <InputButton\r\n            disabled={formState.isSubmitting}\r\n            type=\"submit\"\r\n            value=\"Login\"\r\n          />\r\n        </Form>\r\n      </Card>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Route, Link, HashRouter as Router, Switch } from 'react-router-dom'\r\nimport './index.css';\r\nimport App from './App';\r\nimport SignUp from './Components/SignupPage/SignUp';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport Navbar from \"./Components/navbar/Navbar\";\r\nimport GlobalStyle from './Components/Styles/Global';\r\nimport UserProfile from './Components/UserProfile/UserProfile';\r\nimport Login from './Components/LoginPage/LoginPage';\r\n\r\nconst Routing = () => {\r\n  const [navbarOpen, setNavbarOpen] = useState(false);\r\n  return (\r\n    <Router basename=\"/\">\r\n      <Navbar\r\n        navbarState={navbarOpen}\r\n        handleNavbar={() => setNavbarOpen(prevState => !prevState)}\r\n      />\r\n      \r\n      <GlobalStyle />\r\n      <div style={{ height: \"100vh\", paddingTop: \"50px\" }}>\r\n        <Switch>\r\n          <Route path=\"/signup\" component={SignUp} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/profile/:username\" component={UserProfile} />\r\n          <Route path=\"/\" component={App} />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\n\r\nReactDOM.render(<Routing />, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}